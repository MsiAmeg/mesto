(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}function n(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(t){var n=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(n)?n:String(n)}var o=function(){function e(t,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,"enableValidation",(function(){o._setEventListeners()})),n(this,"_setEventListeners",(function(){o._inputList=Array.from(o._formElement.querySelectorAll(o._config.inputSelector)),o._buttonForm=o._formElement.querySelector(o._config.submitButtonSelector),o._toggleButtonState(),o._inputList.forEach((function(e){e.addEventListener("input",(function(){o._checkInputValidity(e,o._config),o._toggleButtonState()}))}))})),n(this,"_toggleButtonState",(function(){o._hasInvalidInput()?o.disableSubmitBtn():(o._buttonForm.classList.remove(o._config.inactiveButtonClass),o._buttonForm.removeAttribute("disabled"))})),n(this,"_hasInvalidInput",(function(){return o._inputList.some((function(e){return!e.validity.valid}))})),n(this,"_showInputError",(function(e,t){var n=o._formElement.querySelector(".".concat(e.id,"-error"));n.textContent=t,n.classList.add(o._config.errorClass)})),n(this,"_hideInputError",(function(e,t){var n=o._formElement.querySelector(".".concat(e.id,"-error"));n.textContent="",n.classList.remove(o._config.errorClass)})),n(this,"_checkInputValidity",(function(e){e.validity.valid?o._hideInputError(e,e.validationMessage):o._showInputError(e,e.validationMessage)})),this._config=t,this._formElement=r}var r,o;return r=e,(o=[{key:"disableSubmitBtn",value:function(){this._buttonForm.classList.add(this._config.inactiveButtonClass),this._buttonForm.setAttribute("disabled","")}},{key:"resetValidation",value:function(){var e=this;this.disableSubmitBtn(),this._inputList.forEach((function(t){e._hideInputError(t)}))}}])&&t(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}();function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===i(o)?o:String(o)),r)}var o}var l=function(){function e(t,n){var r=t.data,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"setItem",value:function(e){this._container.prepend(e)}},{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(){var e=this;this.clear(),this._renderedItems.forEach((function(t){e._renderer(t)}))}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function s(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}var f=function(){function e(t,n,r,o){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"_getTemplate",(function(){return document.querySelector(i._templateSelector).content.querySelector(".card").cloneNode(!0)})),s(this,"_setEventListeners",(function(){i._cardImage=i._element.querySelector(".card__image"),i._cardTitle=i._element.querySelector(".card__title"),i._likeBtn=i._element.querySelector(".card__like"),i._trashBtn=i._element.querySelector(".card__trash"),i._cardImage.addEventListener("click",(function(){i._handleCardClick(i._name,i._link)})),i._likeBtn.addEventListener("click",i._likeCard),i._trashBtn.addEventListener("click",i._deleteCard)})),s(this,"generateCard",(function(){return i._element=i._getTemplate(),i._setEventListeners(),i._cardImage.alt=i._name,i._cardImage.src=i._link,i._cardTitle.textContent=i._name,i._element})),this._name=t,this._link=n,this._templateSelector=r,this._handleCardClick=o,this._likeCard=this._likeCard.bind(this),this._deleteCard=this._deleteCard.bind(this)}var t,n;return t=e,(n=[{key:"_likeCard",value:function(){this._likeBtn.classList.toggle("card__like_active")}},{key:"_deleteCard",value:function(){this._element.remove()}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),this._handleXClose=this._handleXClose.bind(this),this.open=this.open.bind(this),this.close=this.close.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this.setEventListeners(),this._popupElement.classList.add("popup_opened")}},{key:"close",value:function(){this.removeEventListeners(),this._popupElement.classList.remove("popup_opened")}},{key:"_handleXClose",value:function(e){(e.target.classList.contains("popup_opened")||e.target.classList.contains("popup__close-button"))&&this.close()}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popupElement.addEventListener("mousedown",this._handleXClose)}},{key:"removeEventListeners",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popupElement.removeEventListener("mousedown",this._handleXClose)}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===b(o)?o:String(o)),r)}var o}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},_.apply(this,arguments)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupImagePic=t._popupElement.querySelector(".popup__image"),t._popupCaption=t._popupElement.querySelector(".popup__caption"),t}return t=u,(n=[{key:"open",value:function(e,t){this._popupImagePic.src=t,this._popupImagePic.alt=e,this._popupCaption.textContent=e,_(S(u.prototype),"open",this).call(this)}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(d);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===w(o)?o:String(o)),r)}var o}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},k.apply(this,arguments)}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(o){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}(this,e)});function u(e,t){var n,r=t.handleFormSumbit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._formSubmit=n._formSubmit.bind(P(n)),n._handleFormSumbit=r,n._popupForm=n._popupElement.querySelector("form"),n._formInputs=Array.from(n._popupElement.querySelectorAll(".popup__input")),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e={};return this._formInputs.forEach((function(t){e[t.name]=t.value})),e}},{key:"_formSubmit",value:function(e){e.preventDefault(),this._handleFormSumbit(this._getInputValues())}},{key:"setEventListeners",value:function(){k(O(u.prototype),"setEventListeners",this).call(this),this._popupElement.addEventListener("submit",this._formSubmit)}},{key:"removeEventListeners",value:function(){k(O(u.prototype),"removeEventListeners",this).call(this),this._popupElement.removeEventListener("submit",this._formSubmit)}},{key:"close",value:function(){k(O(u.prototype),"close",this).call(this),this._popupForm.reset()}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(d);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===I(o)?o:String(o)),r)}var o}var q=function(){function e(t){var n=t.profileNameSelector,r=t.profileInfoSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileName=document.querySelector(n),this._profileInfo=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{nameInput:this._profileName.textContent,jobInput:this._profileInfo.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.job;console.log(t),this._profileName.textContent=t,this._profileInfo.textContent=n}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),T=document.querySelector(".profile__edit-button"),B=document.querySelector(".profile__add-button"),x=document.querySelector(".popup_edit-profile"),R=document.forms["profile-form"],F=x.querySelector(".popup__input_data_name"),V=x.querySelector(".popup__input_data_job"),N=document.querySelector(".popup_add-card"),A=document.forms["card-form"],D=N.querySelector(".popup__input_data_card-title"),X=N.querySelector(".popup__input_data_image"),U={inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input-error",errorClass:"popup__input-error_visible"};function M(e,t){return new f(e,t,"#card",z).generateCard()}function z(e,t){Y.open(e,t)}T.addEventListener("click",(function(){var e,t,n;t=(e=G.getUserInfo()).nameInput,n=e.jobInput,F.value=t,V.value=n,J.resetValidation(),J.disableSubmitBtn(),Q.open()})),B.addEventListener("click",(function(){K.resetValidation(),W.open()}));var H=new l({data:[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:function(e){var t=M(e.name,e.link);H.setItem(t)}},".cards-grid");H.renderItems();var G=new q({profileNameSelector:".profile__title",profileInfoSelector:".profile__description"}),J=new o(U,R);J.enableValidation();var K=new o(U,A);K.enableValidation();var Q=new C(".popup_edit-profile",{handleFormSumbit:function(e){var t=e.job,n=e.fullName;G.setUserInfo({name:n,job:t}),Q.close()}}),W=new C(".popup_add-card",{handleFormSumbit:function(){var e=M(D.value,X.value);H.setItem(e),W.close()}}),Y=new g(".popup_large-image")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWtCRixrQkFDbEJHLEVBQVV2RCxNQUNaLElBRUEsSUFBTXdELEVBQVksSUFBSWpHLEVBQVEsQ0FDNUJFLEtDbEQwQixDQUN4QixDQUNFWSxLQUFNLFFBQ05DLEtBQU0saUZBRVIsQ0FDRUQsS0FBTSxzQkFDTkMsS0FBTSw2RkFFUixDQUNFRCxLQUFNLFVBQ05DLEtBQU0sa0ZBRVIsQ0FDRUQsS0FBTSxXQUNOQyxLQUFNLG9GQUVSLENBQ0VELEtBQU0scUJBQ05DLEtBQU0sNkZBRVIsQ0FDRUQsS0FBTSxTQUNOQyxLQUFNLGtGRDRCVlosU0FBVSxTQUFDSyxHQUNULElBQU0wRixFQUFTWCxFQUFXL0UsRUFBUU0sS0FBTU4sRUFBUU8sTUFDaERrRixFQUFVRSxRQUFRRCxFQUNwQixHQUNDLGVBRUhELEVBQVVHLGNBRVYsSUFBTVYsRUFBVyxJQUFJMUIsRUFBUyxDQUFDQyxvQkFBcUIsa0JBQW1CQyxvQkFBcUIsMEJBRXRGMEIsRUFBb0IsSUFBSXBJLEVBQWM2SCxFQUFrQlIsR0FDOURlLEVBQWtCUyxtQkFFbEIsSUFBTU4sRUFBb0IsSUFBSXZJLEVBQWM2SCxFQUFrQkgsR0FDOURhLEVBQWtCTSxtQkFHbEIsSUFBTVAsRUFBZSxJQUFJekMsRUFBYyxzQkFBdUIsQ0FBQ0MsaUJBQWtCLFlBQXFCLElBQW5CaUIsRUFBRyxFQUFIQSxJQUFLK0IsRUFBUSxFQUFSQSxTQUN0RlosRUFBU2EsWUFBWSxDQUNuQnpGLEtBQU13RixFQUNOL0IsSUFBS0EsSUFHUHVCLEVBQWFwRCxPQUNmLElBRU1zRCxFQUFZLElBQUkzQyxFQUFjLGtCQUFtQixDQUFDQyxpQkFBa0IsV0FDeEUsSUFFTTRDLEVBQVNYLEVBRkdKLEVBQWlCdkIsTUFDbEJ3QixFQUFrQnhCLE9BR25DcUMsRUFBVUUsUUFBUUQsR0FDbEJGLEVBQVV0RCxPQUNaLElBRU0rQyxFQUFvQixJQUFJdkMsRUFBZSxxQiIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY2FyZHNBcnJheS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpe1xuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgZGlzYWJsZVN1Ym1pdEJ0bigpIHtcbiAgICB0aGlzLl9idXR0b25Gb3JtLmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX2J1dHRvbkZvcm0uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJcIik7XG4gIH07XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuZGlzYWJsZVN1Ym1pdEJ0bigpO1xuXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9idXR0b25Gb3JtID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xuICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwsIHRoaXMuX2NvbmZpZyk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGVTdWJtaXRCdG4oKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25Gb3JtLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fYnV0dG9uRm9ybS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICB9XG4gIH07XG5cbiAgX2hhc0ludmFsaWRJbnB1dCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWwpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfTtcblxuICAgIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dEVsLCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yRWwgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICAgICAgZXJyb3JFbC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICAgIGVycm9yRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XG4gICAgfTtcblxuICAgIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsLCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yRWwgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICAgICAgZXJyb3JFbC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICBlcnJvckVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xuICAgIH07XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChpbnB1dEVsKSA9PiB7XG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsLCBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsLCBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9XG4gIH07XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBkYXRhLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBkYXRhO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICBzZXRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuY2xlYXIoKTtcblxuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGxpbmssIHRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljayl7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fbGluayA9IGxpbms7XG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2xpa2VDYXJkID0gdGhpcy5fbGlrZUNhcmQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9kZWxldGVDYXJkID0gdGhpcy5fZGVsZXRlQ2FyZC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhcmRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcikuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZCcpLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXR1cm4gY2FyZEVsO1xuICB9XG5cbiAgX2xpa2VDYXJkKCkge1xuICAgIHRoaXMuX2xpa2VCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnY2FyZF9fbGlrZV9hY3RpdmUnKVxuICB9XG5cbiAgX2RlbGV0ZUNhcmQoKXtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJyk7XG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fdGl0bGUnKTtcbiAgICB0aGlzLl9saWtlQnRuID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZScpO1xuICAgIHRoaXMuX3RyYXNoQnRuID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fdHJhc2gnKTtcblxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2xpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9saWtlQ2FyZCk7XG4gICAgdGhpcy5fdHJhc2hCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9kZWxldGVDYXJkKTtcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCA9ICgpID0+IHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKXtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVYQ2xvc2UgPSB0aGlzLl9oYW5kbGVYQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9wZW4gPSB0aGlzLm9wZW4uYmluZCh0aGlzKTtcbiAgICB0aGlzLmNsb3NlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb3Blbigpe1xuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gIH1cblxuICBjbG9zZSgpe1xuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gIH1cblxuICBfaGFuZGxlWENsb3NlKGV2ZW50KXtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfb3BlbmVkJykgfHwgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlLWJ1dHRvbicpKXtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuXG4gIF9oYW5kbGVFc2NDbG9zZShldmVudCl7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIil7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCl7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlWENsb3NlKTtcbiAgfVxuXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCl7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlWENsb3NlKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtQb3B1cH0gZnJvbSAnLi9Qb3B1cC5qcyc7XHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKXtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZVBpYyA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XHJcbiAgICB0aGlzLl9wb3B1cENhcHRpb24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19jYXB0aW9uJylcclxuICB9XHJcblxyXG4gIG9wZW4obmFtZSwgbGluayl7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlUGljLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlUGljLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9wb3B1cENhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xyXG5cclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHtQb3B1cH0gZnJvbSAnLi9Qb3B1cC5qcyc7XG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvciwge2hhbmRsZUZvcm1TdW1iaXR9KXtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtU3VibWl0ID0gdGhpcy5fZm9ybVN1Ym1pdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdW1iaXQgPSBoYW5kbGVGb3JtU3VtYml0O1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XG4gICAgdGhpcy5fZm9ybUlucHV0cyA9IEFycmF5LmZyb20odGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKSk7XG4gIH1cbiAgX2dldElucHV0VmFsdWVzKCl7XG4gICAgY29uc3QgX2lucHV0VmFsdWVzID0ge307XG4gICAgdGhpcy5fZm9ybUlucHV0cy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgICBfaW5wdXRWYWx1ZXNbaW5wdXRFbC5uYW1lXSA9IGlucHV0RWwudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIF9pbnB1dFZhbHVlcztcbiAgfVxuXG4gIF9mb3JtU3VibWl0KGV2ZW50KXtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdW1iaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpe1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX2Zvcm1TdWJtaXQpO1xuICB9XG5cblxuICByZW1vdmVFdmVudExpc3RlbmVycygpe1xuICAgIHN1cGVyLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX2Zvcm1TdWJtaXQpO1xuICB9XG5cbiAgY2xvc2UoKXtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7cHJvZmlsZU5hbWVTZWxlY3RvciwgcHJvZmlsZUluZm9TZWxlY3Rvcn0pe1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlTmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9wcm9maWxlSW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUluZm9TZWxlY3Rvcik7O1xuICB9XG4gIGdldFVzZXJJbmZvKCl7XG4gICAgY29uc3QgcHJvZmlsZUluZm8gPSB7bmFtZUlucHV0OiB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCxcbiAgICBqb2JJbnB1dDogdGhpcy5fcHJvZmlsZUluZm8udGV4dENvbnRlbnR9O1xuICAgIHJldHVybiBwcm9maWxlSW5mbztcbiAgfVxuICBzZXRVc2VySW5mbyh7bmFtZSwgam9ifSl7XG4gICAgY29uc29sZS5sb2cobmFtZSk7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX3Byb2ZpbGVJbmZvLnRleHRDb250ZW50ID0gam9iO1xuICB9XG59XG4iLCJjb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XG5jb25zdCBidG5BZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKTtcblxuY29uc3QgcG9wdXBFZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9lZGl0LXByb2ZpbGUnKTtcbmNvbnN0IHBvcHVwRm9ybUVkaXRQcm9maWxlID0gZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlLWZvcm1cIl07XG5jb25zdCBpbnB1dEVkaXRQcm9maWxlTmFtZSA9IHBvcHVwRWRpdFByb2ZpbGUucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9kYXRhX25hbWUnKTtcbmNvbnN0IGlucHV0RWRpdFByb2ZpbGVKb2IgPSBwb3B1cEVkaXRQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfZGF0YV9qb2InKTtcblxuY29uc3QgcG9wdXBBZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2FkZC1jYXJkJyk7XG5jb25zdCBwb3B1cEFkZENhcmRGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJjYXJkLWZvcm1cIl07XG5jb25zdCBpbnB1dEFkZENhcmROYW1lID0gcG9wdXBBZGRDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfZGF0YV9jYXJkLXRpdGxlJyk7XG5jb25zdCBpbnB1dEFkZENhcmRJbWFnZSA9IHBvcHVwQWRkQ2FyZC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X2RhdGFfaW1hZ2UnKTtcblxuXG5jb25zdCB2YWxpZGF0aW9uUGFyYW1zID0ge1xuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19idXR0b24nLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2J1dHRvbl9kaXNhYmxlZCcsXG4gIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dC1lcnJvcicsXG4gIGVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXQtZXJyb3JfdmlzaWJsZSdcbn1cblxuZXhwb3J0IHtcbiAgZWRpdEJ1dHRvbixcbiAgYnRuQWRkQ2FyZCxcbiAgcG9wdXBGb3JtRWRpdFByb2ZpbGUsXG4gIGlucHV0RWRpdFByb2ZpbGVOYW1lLFxuICBpbnB1dEVkaXRQcm9maWxlSm9iLFxuICBwb3B1cEFkZENhcmRGb3JtLFxuICBpbnB1dEFkZENhcmROYW1lLFxuICBpbnB1dEFkZENhcmRJbWFnZSxcbiAgdmFsaWRhdGlvblBhcmFtc1xufTtcbiIsImltcG9ydCB7IGluaXRpYWxDYXJkcyB9IGZyb20gXCIuLi91dGlscy9jYXJkc0FycmF5LmpzXCI7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IHtlZGl0QnV0dG9uLFxuICBidG5BZGRDYXJkLFxuICBwb3B1cEZvcm1FZGl0UHJvZmlsZSxcbiAgaW5wdXRFZGl0UHJvZmlsZU5hbWUsXG4gIGlucHV0RWRpdFByb2ZpbGVKb2IsXG4gIHBvcHVwQWRkQ2FyZEZvcm0sXG4gIGlucHV0QWRkQ2FyZE5hbWUsXG4gIGlucHV0QWRkQ2FyZEltYWdlLFxuICB2YWxpZGF0aW9uUGFyYW1zfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5cblxuZnVuY3Rpb24gY3JlYXRlQ2FyZChuYW1lLCBsaW5rKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChuYW1lLCBsaW5rLCBcIiNjYXJkXCIsIGhhbmRsZUNhcmRDbGljayk7XG4gIGNvbnN0IGNhcmRFbCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gIHJldHVybiBjYXJkRWw7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayhuYW1lLCBsaW5rKSB7XG4gIGltYWdlRGVmYXVsdFBvcHVwLm9wZW4obmFtZSwgbGluayk7XG59XG5cbmZ1bmN0aW9uIGluc2VydFByb2ZpbGVJbmZvKHtuYW1lSW5wdXQsIGpvYklucHV0fSkge1xuICBpbnB1dEVkaXRQcm9maWxlTmFtZS52YWx1ZSA9IG5hbWVJbnB1dDtcbiAgaW5wdXRFZGl0UHJvZmlsZUpvYi52YWx1ZSA9IGpvYklucHV0O1xufVxuXG5cblxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgZGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIGluc2VydFByb2ZpbGVJbmZvKGRhdGEpO1xuICBwcm9maWxlVmFsaWRhdGlvbi5yZXNldFZhbGlkYXRpb24oKTtcbiAgcHJvZmlsZVZhbGlkYXRpb24uZGlzYWJsZVN1Ym1pdEJ0bigpO1xuICBwcm9maWxlUG9wdXAub3BlbigpO1xufSk7XG5cbmJ0bkFkZENhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGFkZENhcmRWYWxpZGF0aW9uLnJlc2V0VmFsaWRhdGlvbigpO1xuICBjYXJkUG9wdXAub3BlbigpO1xufSk7XG5cbmNvbnN0IGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKHtcbiAgZGF0YTogaW5pdGlhbENhcmRzLFxuICByZW5kZXJlcjogKGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBjYXJkRWwgPSBjcmVhdGVDYXJkKGVsZW1lbnQubmFtZSwgZWxlbWVudC5saW5rKTtcbiAgICBjYXJkc0xpc3Quc2V0SXRlbShjYXJkRWwpO1xuICB9LFxufSwgJy5jYXJkcy1ncmlkJyk7XG5cbmNhcmRzTGlzdC5yZW5kZXJJdGVtcygpO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7cHJvZmlsZU5hbWVTZWxlY3RvcjogJy5wcm9maWxlX190aXRsZScsIHByb2ZpbGVJbmZvU2VsZWN0b3I6ICcucHJvZmlsZV9fZGVzY3JpcHRpb24nfSk7XG5cbmNvbnN0IHByb2ZpbGVWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvblBhcmFtcywgcG9wdXBGb3JtRWRpdFByb2ZpbGUpO1xucHJvZmlsZVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBhZGRDYXJkVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25QYXJhbXMsIHBvcHVwQWRkQ2FyZEZvcm0pO1xuYWRkQ2FyZFZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5cbmNvbnN0IHByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfZWRpdC1wcm9maWxlJywge2hhbmRsZUZvcm1TdW1iaXQ6ICh7am9iLCBmdWxsTmFtZX0pID0+IHtcbiAgdXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgIG5hbWU6IGZ1bGxOYW1lLFxuICAgIGpvYjogam9iXG4gIH0pO1xuXG4gIHByb2ZpbGVQb3B1cC5jbG9zZSgpO1xufX0pO1xuXG5jb25zdCBjYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX2FkZC1jYXJkJywge2hhbmRsZUZvcm1TdW1iaXQ6ICgpID0+IHtcbiAgY29uc3QgaW1hZ2VOYW1lID0gaW5wdXRBZGRDYXJkTmFtZS52YWx1ZTtcbiAgY29uc3QgaW1hZ2VVcmwgPSBpbnB1dEFkZENhcmRJbWFnZS52YWx1ZTtcbiAgY29uc3QgY2FyZEVsID0gY3JlYXRlQ2FyZChpbWFnZU5hbWUsIGltYWdlVXJsKTtcblxuICBjYXJkc0xpc3Quc2V0SXRlbShjYXJkRWwpO1xuICBjYXJkUG9wdXAuY2xvc2UoKTtcbn19KTtcblxuY29uc3QgaW1hZ2VEZWZhdWx0UG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cF9sYXJnZS1pbWFnZScpO1xuIiwiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICAgIHtcclxuICAgICAgbmFtZTogJ9CQ0YDRhdGL0LcnLFxyXG4gICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGcnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiAn0KfQtdC70Y/QsdC40L3RgdC60LDRjyDQvtCx0LvQsNGB0YLRjCcsXHJcbiAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvY2hlbHlhYmluc2stb2JsYXN0LmpwZydcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6ICfQmNCy0LDQvdC+0LLQvicsXHJcbiAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvaXZhbm92by5qcGcnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiAn0JrQsNC80YfQsNGC0LrQsCcsXHJcbiAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZydcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6ICfQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvScsXHJcbiAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2hvbG1vZ29yc2t5LXJheW9uLmpwZydcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6ICfQkdCw0LnQutCw0LsnLFxyXG4gICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGcnXHJcbiAgICB9XHJcbiAgXTtcclxuIl0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJfZm9ybUVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2NvbmZpZyIsImlucHV0U2VsZWN0b3IiLCJfYnV0dG9uRm9ybSIsInF1ZXJ5U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJpbnB1dEVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZVN1Ym1pdEJ0biIsImNsYXNzTGlzdCIsInJlbW92ZSIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsImVycm9yTWVzc2FnZSIsImVycm9yRWwiLCJpZCIsInRleHRDb250ZW50IiwiYWRkIiwiZXJyb3JDbGFzcyIsIl9oaWRlSW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiX3Nob3dJbnB1dEVycm9yIiwidGhpcyIsInNldEF0dHJpYnV0ZSIsImlucHV0RWxlbWVudCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsImRhdGEiLCJyZW5kZXJlciIsIl9yZW5kZXJlZEl0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImRvY3VtZW50IiwiZWxlbWVudCIsInByZXBlbmQiLCJpbm5lckhUTUwiLCJjbGVhciIsIml0ZW0iLCJDYXJkIiwibmFtZSIsImxpbmsiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2NhcmRJbWFnZSIsIl9lbGVtZW50IiwiX2NhcmRUaXRsZSIsIl9saWtlQnRuIiwiX3RyYXNoQnRuIiwiX2hhbmRsZUNhcmRDbGljayIsIl9uYW1lIiwiX2xpbmsiLCJfbGlrZUNhcmQiLCJfZGVsZXRlQ2FyZCIsIl9nZXRUZW1wbGF0ZSIsImFsdCIsInNyYyIsImJpbmQiLCJ0b2dnbGUiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiX2hhbmRsZVhDbG9zZSIsIm9wZW4iLCJjbG9zZSIsInNldEV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJldmVudCIsInRhcmdldCIsImNvbnRhaW5zIiwia2V5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwSW1hZ2VQaWMiLCJfcG9wdXBDYXB0aW9uIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdW1iaXQiLCJfZm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VtYml0IiwiX3BvcHVwRm9ybSIsIl9mb3JtSW5wdXRzIiwiX2lucHV0VmFsdWVzIiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiVXNlckluZm8iLCJwcm9maWxlTmFtZVNlbGVjdG9yIiwicHJvZmlsZUluZm9TZWxlY3RvciIsIl9wcm9maWxlTmFtZSIsIl9wcm9maWxlSW5mbyIsIm5hbWVJbnB1dCIsImpvYklucHV0Iiwiam9iIiwiY29uc29sZSIsImxvZyIsImVkaXRCdXR0b24iLCJidG5BZGRDYXJkIiwicG9wdXBFZGl0UHJvZmlsZSIsInBvcHVwRm9ybUVkaXRQcm9maWxlIiwiZm9ybXMiLCJpbnB1dEVkaXRQcm9maWxlTmFtZSIsImlucHV0RWRpdFByb2ZpbGVKb2IiLCJwb3B1cEFkZENhcmQiLCJwb3B1cEFkZENhcmRGb3JtIiwiaW5wdXRBZGRDYXJkTmFtZSIsImlucHV0QWRkQ2FyZEltYWdlIiwidmFsaWRhdGlvblBhcmFtcyIsImlucHV0RXJyb3JDbGFzcyIsImNyZWF0ZUNhcmQiLCJnZW5lcmF0ZUNhcmQiLCJpbWFnZURlZmF1bHRQb3B1cCIsInVzZXJJbmZvIiwiZ2V0VXNlckluZm8iLCJwcm9maWxlVmFsaWRhdGlvbiIsInJlc2V0VmFsaWRhdGlvbiIsInByb2ZpbGVQb3B1cCIsImFkZENhcmRWYWxpZGF0aW9uIiwiY2FyZFBvcHVwIiwiY2FyZHNMaXN0IiwiY2FyZEVsIiwic2V0SXRlbSIsInJlbmRlckl0ZW1zIiwiZW5hYmxlVmFsaWRhdGlvbiIsImZ1bGxOYW1lIiwic2V0VXNlckluZm8iXSwic291cmNlUm9vdCI6IiJ9